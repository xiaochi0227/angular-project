<div class="widgets">
  <div class="row">
    <div class="zh-serchbox">
      <table class="table zh-serchtable black-muted-bg">
        <tbody>
          <tr>
            <td>
              <table class="table zh-serch-table">
                <tr>
                  <td class="zh-zdname">任务名称</td>
                  <td class="zh-textbox">
                    <input type="text" nz-input [(ngModel)]="params.search.desc" name="desc" placeholder="请输入任务名称">
                  </td>
                </tr>
              </table>
            </td>
            <td>
              <button nz-button nzType="primary" style="margin-right: 8px;" (click)="search()">查询</button>
              <button nz-button nzType="default" (click)="Reset()">重置</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="horizontal-scroll">
      <nz-table #basicTable nzShowSizeChanger [nzFrontPagination]="false" [nzLoading]="loading" [nzTotal]="count"
        [(nzPageIndex)]="params.page_no" [(nzPageSize)]="params.page_size" (nzPageIndexChange)="getexports()"
        (nzPageSizeChange)="search()" [nzData]="exports">
        <thead>
          <tr>
            <th width="5%">序号</th>
            <th width="30%">任务名称</th>
            <th width="20%">导出时间</th>
            <th width="20%">当前状态</th>
            <th width="25%">操作</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let export of basicTable.data;let i=index">
            <td>{{cow+i+1}}</td>
            <td>{{export.desc}}</td>
            <td>{{export.submitTime}}</td>
            <td>{{export.status}}</td>
            <td><a target="xzifr" *ngIf="export.status=='导出成功'" class="btn btn-sm btn-success" (click)="getfile(export.filePath,export.desc)">点击下载</a></td>
          </tr>
        </tbody>
      </nz-table>
      <iframe #xzifr name="xzifr" style="display:none"></iframe>
    </div>
  </div>
</div>
